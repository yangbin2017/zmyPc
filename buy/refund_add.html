<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>测试</title>
    <meta name="description" content="overview &amp; stats"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <!-- basic styles -->

    <link href="../assets/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="../assets/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="../assets/css/jquery-ui-1.10.3.full.min.css"/>
    <link rel="stylesheet" href="../assets/css/datepicker.css"/>
    <link rel="stylesheet" href="../assets/css/ui.jqgrid.css"/>
    <link rel="stylesheet" type="text/css" href="../css/jquery.datetimepicker.css"/>
    <!--<link rel="stylesheet" href="../css/jqGrid.css">-->
    <link href="../css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
    <!--[if IE 7]>
    <link rel="stylesheet" href="../assets/css/font-awesome-ie7.min.css"/>
    <![endif]-->
    <link rel="stylesheet" href="../css/zmht2.css">
    <link href="../css/plugins/sweetalert/sweetalert.css" rel="stylesheet">
    <!-- page specific plugin styles -->

    <!-- fonts -->

    <link rel="stylesheet" href="../assets/css/ace-fonts.css"/>

    <!-- ace styles -->

    <link rel="stylesheet" href="../assets/css/ace.min.css"/>
    <link rel="stylesheet" href="../assets/css/ace-rtl.min.css"/>
    <link rel="stylesheet" href="../assets/css/ace-skins.min.css"/>
    <link rel="stylesheet" href="../assets/css/datepicker.css"/>
    <!--<link rel="stylesheet" href="../css/common.css">-->
    <link rel="stylesheet" href="../css/main.css">
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="../assets/css/ace-ie.min.css"/>
    <![endif]-->

    <!-- inline styles related to this page -->

    <!-- ace settings handler -->

    <script src="../assets/js/ace-extra.min.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

    <!--[if lt IE 9]>
    <script src="../assets/js/html5shiv.js"></script>
    <script src="../assets/js/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
        window.jQuery || document.write("<script src='../assets/js/jquery-2.0.3.min.js'>" + "<" + "/script>");
    </script>
    <style>
        .tabs-container {
            margin: 0;
            padding: 20px;
        }

        #tab-1 {
            background-color: #f6f6f6;
            padding: 15px;
        }

        .ui-jqgrid tr.jqgrow td {
            overflow: inherit;
            white-space: normal;
        }

        .payMoney input {
            margin-bottom: 8px;
        }
    </style>
</head>

<body>


<div class="main-container" id="main-container">
    <!-- <script type="text/javascript">
        try{ace.settings.check('main-container' , 'fixed')}catch(e){}
    </script> -->

    <div class="main-container-inner">

        <div class="main-content-right">
            <div class="body-content body-content-bg" style="overflow-y: scroll">

                <div class="inner-scollcontent">
                    <div class="ibox" style="margin-bottom: 0" id="modify-shop">
                        <div class="tabs-container">
                            <div class="zmbox clearfix page-title-area">
            <span class="page-title">
        <span class="txt1">创建退货单</span>

    </span>


                                <div class="pull-right">
                                    <a class="text-info  " style="margin-left:20px;margin-right: 10px;line-height: 31px;"
                                       href="##" onclick="history.back()">&lt; 返 回</a>
                                </div>

                            </div>
                            <div class="zmbox clearfix "
                                 style="padding-left:10px;padding-top:5px;margin-bottom: 10px;background-color: #f0f0f0">
                                <div class="clearfix">
                                    <div class="boxpart" style="width: 300px">
                                        <div class="t">退货单号：</div>
                                        <div class="t">TH002942201704270001</div>
                                    </div>
                                    <!-- 输入框-->
                                    <div class="boxpart ">
                                        <div class="t">选择供应商：</div>
                                        <div class="inpt chosenchang120">
                                            <div class="select-box ">
                                                <div class="bill-input ">
                                                    <input type="text" value="全部">
                                                    <i class="icon-sort-down"></i>
                                                </div>
                                                <div class="select-down role-select" style="display: none;">
                                                    <div class="select-list">全部</div>
                                                    <div class="select-list">001测试一下功能</div>
                                                    <div class="select-list">sadds</div>
                                                </div>
                                            </div>
                                            <a class="btn-add open-modals" href="javascript:;" data-open="addSupplier" data-head="添加供应商">添加供应商</a>
                                        </div>
                                    </div>
                                </div>
                                <!-- 输入框-->

                            </div>

                            <form class="purchase-form" action="" method="post">
                                <div id="shangpingzhanshi" class="porela" style="min-height: 40px" data-type="all">
                                    <div class="table-responsive" style="overflow:inherit; margin-bottom:50px;">
                                        <table id="addrefund-table"></table>
                                        <div class="clearfix margin-t10">
                                            <div class="lf" id="total">
                                                总计：<span class="text-danger total-count" style="font-size: 18px; font-weight: bold" data-total="0.00">0.00</span>
                                            </div>
                                            <div class="form-group" style="margin: 0 auto;width: 800px">
                                                <label class="col-sm-4 control-label"
                                                       style="width: 180px;text-align: right">备注：</label>
                                                <div class="col-sm-8">
                                                                <textarea name="content" class="form-control"
                                                                          style="height:50px"
                                                                          maxlength="200"></textarea>
                                                    <div class="col-sm-12 red" style="margin-top: 15px">
                                                        注意：只能退店铺中存在的商品，退货数量必须大于0！
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-group" style="margin: 0 auto;width: 800px;">

                                            </div>
                                            <div class="" style="text-align: center;margin-top: 20px">

                                                <i class="jiange"></i>
                                                <button class="btn btn-primary btn-save" data-save="0"
                                                        type="button"
                                                        onclick="_hmt.push(['_trackEvent', 'buy_order', 'save_order', '进货单-保存']);">
                                                    保 存
                                                </button>
                                                <i class="jiange"></i>
                                                <button class="btn btn-primary btn-finish" data-save="0"
                                                        type="button"
                                                        onclick="_hmt.push(['_trackEvent', 'buy_order', 'complete_order', '进货单-保存并入库']);">
                                                    保存并入库
                                                </button>
                                            </div>
                                        </div>

                                    </div>


                                </div>

                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- /.main-content -->
    </div><!-- /.main-container-inner -->
</div><!-- /.main-container -->

<!--商品选择-->
<div class="modals shopChange">
    <div class="modals-dilog w-800" style="top: 20px;">
        <div class="modals-content">
            <div class="modals-head">
                <span>商品搜索 — 1 双击选中商品</span>
                <div class="close-m closeModals">&times;</div>
            </div>
            <div class="modals-body maxheight">
                <div class="modals-body-content">
                    <div class="madals-container active">
                        <!-- Tab panes -->
                        <div class="tab-content " style="border-bottom: none">
                            <div style="margin: 20px 10px">
                                <table id="shopChange-table"></table>
                                <div class="text-center margin-t10">
                                    <button class="btn btn-primary btn-save" data-save="0" type="button">
                                        保 存
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--新增供应商-->
<div class="modals addSupplier">
    <div class="modals-dilog w-700" style="top: 20px;">
        <div class="modals-content">
            <div class="modals-head">
                <span>新增供应商</span>
                <div class="close-m closeModals">&times;</div>
            </div>
            <div class="modals-body maxheight">
                <div class="modals-body-content">
                    <div class="madals-container active">
                        <!-- Tab panes -->
                        <div class="tab-content " style="border-bottom: none">
                            <form class="form-horizontal " action="" method="post">
                                <div class="modal-body bg-white">
                                    <h4 class="zm-h3">基本信息</h4>
                                    <div class="row">
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label"><span class="text-danger">*</span>编号：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="supplier_code" datatype="/^[a-zA-Z0-9_]{1,20}$/" value="" maxlength="20" nullmsg="请填写供应商编号" errormsg="字母、数字、下划线" ajaxurl="https://b.izhangmai.com/shop/check_supplier_code?id=0">
                                            </div>
                                            <span class="help-block m-b-none"></span>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label"><span class="text-danger">*</span>供应商名称：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="sup_name" datatype="*" value="" maxlength="30" nullmsg="请填写供应商名称">
                                            </div>
                                            <span class="help-block m-b-none"></span>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">地址：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="address" value="" maxlength="30">
                                                <span class="help-block m-b-none"></span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">分类：</label>
                                            <div class="col-sm-6">
                                                <div class="select-box goods_type_id" id="goods_type_id">
                                                    <div class="bill-input ">
                                                        <input type="text" value="请选择">
                                                        <i class="icon-sort-down"></i>
                                                    </div>
                                                    <div class="select-down role-select" style="display: none;">
                                                        <div class="select-list">请选择</div>
                                                        <div class="select-list">休闲食品</div>
                                                        <div class="select-list">饮料</div>
                                                        <div class="select-list">粮油</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-sm-3 control-label">联系方式：</label>

                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="mobile" ignore="ignore" maxlength="50" value="" nullmsg="请填写联系方式！" errormsg="手机号格式错误">

                                            </div>
                                            <span class="help-block m-b-none"></span>
                                        </div>
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">联系人：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="linkman" maxlength="20" value="">
                                                <span class="help-block m-b-none"></span>
                                            </div>
                                        </div>

                                    </div>
                                    <h4 class="zm-h3">其它</h4>
                                    <div class="row">
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">开户银行：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="bank" maxlength="20" value="">
                                                <span class="help-block m-b-none"></span>
                                            </div>
                                        </div>
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">账号：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="account" ignore="ignore" value="">
                                                <span class="help-block m-b-none"></span>
                                            </div>
                                        </div>
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">开户人：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="owner" maxlength="20" value="">
                                                <span class="help-block m-b-none"></span>
                                            </div>
                                        </div>
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">备注：</label>
                                            <div class="col-sm-6">
                                                <textarea class="form-control" name="mark" maxlength="50" style="height:50px;resize:none"></textarea>
                                                <span class="help-block m-b-none"></span>
                                            </div>
                                        </div>
                                    </div>
                                    <h4 class="zm-h3">在线供应商</h4>
                                    <!--fix-->
                                    <div class="row contain-supplier">
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">供应商账号：</label>
                                            <div class="col-sm-6">
                                                <input type="text" class="form-control" name="supplier_mobile" maxlength="12" value="" datatype="n" ignore="ignore" errormsg="账号错误！请向您的在线供应商索要正确的供应商账号" ajaxurl="https://b.izhangmai.com/shop/ajax_supplier">

                                                <span class="help-block m-b-none"></span>
                                            </div>
                                            <button class="btn btn-primary btn-contain" type="button">关联</button>
                                        </div>
                                    </div>
                                    <!--fix-->
                                    <div class="row show-supplier" style="display:none">
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">供应商查看销量：</label>
                                            <div class="col-sm-7" style="padding-top: 3px">
                                                <div class="yingyezhong_x1 btn-business dayangle_x1"><span style="display: none;">&nbsp;&nbsp; 打 开</span><dl style="color: rgb(153, 153, 153); display: inine;" value="0"> 关 闭</dl></div>
                                                <input type="radio" name="is_allow" value="1">
                                                <input type="radio" name="is_allow" value="0" checked="checked" style="margin-left: 20px">
                                                <div class="red" style="padding-top: 32px">允许该供应商查看我的商品销量（仅限于该供应商所供应商品）</div>
                                            </div>

                                        </div>
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">供应商代下单：</label>
                                            <div class="col-sm-7" style="padding-top: 3px">

                                                <div class="yingyezhong_x1 btn-business dayangle_x1"><span style="display: none;">&nbsp;&nbsp; 打 开</span><dl style="color: rgb(153, 153, 153); display: inine;" value="0"> 关 闭</dl></div>
                                                <input type="radio" name="is_help_ordering" value="1">
                                                <input type="radio" name="is_help_ordering" value="0" checked="checked" style="margin-left: 20px">
                                                <div class="red" style="padding-top: 32px">允许该供应商代我下单，但是订单必须经过我的确认。</div>
                                            </div>

                                        </div>
                                        <div class="form-group" >
                                            <label class="col-sm-3 control-label">供应商查看库存：</label>
                                            <div class="col-sm-7" style="padding-top: 3px">
                                                <div class="yingyezhong_x1 btn-business dayangle_x1"><span style="display: none;">&nbsp;&nbsp; 打 开</span><dl style="color: rgb(153, 153, 153); display: inine;" value="0"> 关 闭</dl></div>
                                                <input type="radio" name="is_look_inventory" value="1">
                                                <input type="radio" name="is_look_inventory" value="0" checked="checked" style="margin-left: 20px">
                                                <div class="red" style="padding-top: 32px">允许该供应商查看我的商品库存（仅限于该供应商所供应商品）。</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <input type="hidden" name="id" value="0">
                                    <button class="btn btn-primary">确定</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- basic scripts -->

<!--[if !IE]> -->

<script type="text/javascript">
    window.jQuery || document.write("<script src='../assets/js/jquery-2.0.3.min.js'>" + "<" + "/script>");
</script>

<!-- <![endif]-->

<!--[if IE]>
<script type="text/javascript">
    window.jQuery || document.write("<script src='../assets/js/jquery-1.10.2.min.js'>" + "<" + "/script>");
</script>
<![endif]-->

<script type="text/javascript">
    if ("ontouchend" in document) document.write("<script src='../assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
</script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/typeahead-bs2.min.js"></script>

<!-- page specific plugin scripts -->

<!--[if lte IE 8]>
<script src="../assets/js/excanvas.min.js"></script>
<![endif]-->

<script src="../assets/js/jquery-ui-1.10.3.custom.min.js"></script>
<script src="../assets/js/jquery.ui.touch-punch.min.js"></script>
<script src="../assets/js/jquery.slimscroll.min.js"></script>
<script src="../js/plugins/sweetalert/sweetalert.min.js"></script>

<script src="../assets/js/jquery.sparkline.min.js"></script>

<!--<script src="../assets/js/jqGrid/jquery.jqGrid.min.js"></script>-->

<!--<script src="../assets/js/jqGrid/i18n/grid.locale-cn.js"></script>-->
<script src="../assets/js/jqGrid/jquery.jqGrid.min.js"></script>
<script src="../assets/js/jqGrid/i18n/grid.locale-cn.js"></script>
<!--<script src="../js/jqGrid.js"></script>-->
<!--<script src="../assets/js/jqGrid/jquery.jqGrid.src.js"></script>-->
<script src="../assets/js/date-time/bootstrap-timepicker.min.js"></script>
<script src="../js/jquery.datetimepicker.js" type="text/javascript" charset="utf-8"></script>
<script src="../assets/js/chosen.jquery.min.js"></script>
<!-- ace scripts -->
<script src="../assets/js/jquery.validate.min.js"></script>
<script src="../assets/js/jquery.gritter.min.js"></script>
<script src="../assets/js/ace-elements.min.js"></script>
<script src="../assets/js/ace.min.js"></script>

<script src="../js/main.js"></script>

<!--<script src="../js/echarts.min.js"></script>-->
<!-- inline scripts related to this page -->

<script type="text/javascript">

    var unitData=["袋","件","斤","千克","瓶"];
    var shopmanageCol = [
        {
            label: '操作',
            name: 'operation',
            align:'center',
            width: 100,
            formatter: function (cellvalue, options, rowObject) {
                var gid='"#'+options.gid+'"';
                var detail="<span class='icon-plus'  onclick='btn_add("+gid+")' style='margin-right: 10px'></span>" +
                        "<span class='icon-remove'  onclick='btn_delete("+ rowObject.id + ","+gid+")'></span>";
                return detail;
            }
        },
        {
            label: '条码',
            name: 'barcode',
            align: 'center',
            width: 300,
            editable: true,
            classes: 'cus-edit-td',
            edittype: 'custom',
            editoptions: {
                custom_element: myelem,
                custom_value: myvalue
            }
        },
        {
            label: '商品名称',
            name: 'shopName',
            width: 300,
            align: 'left',
            sortable: true,
            editable: true,
            classes: 'cus-edit-td',
            edittype: 'custom',
            editoptions: {
                custom_element: myelem,
                custom_value: myvalue
            }
        },
        {
            label: '单位',
            name: 'unit',
            align: 'center',
            width: 140,
            editable : false,
        },
        {
            label: '进货单价',
            name: 'purchasePrice',
            align: 'center',
            width: 140,
            editable: true,
            classes:'stockPrice'
        },
        {
            label: '库存',
            name: 'storeNum',
            align: 'center',
            width: 140,
            editable: false,
        },


        {
            label: '退货数量',
            name: 'num',
            align: 'center',
            width: 140,
            editable: true,
        },
        {
            label: '小计',
            name: 'subtotal',
            align: 'center',
            width: 140,
            editable: true,
            classes:'subtotal'
        }
    ];
    var addData=[
        {
            "id":1,
            "barcode":"",
            "shopName":"",
            "unit":"",
            "type":"",
            "purchasePrice":"",
            "salePrice":"",
            "storeNum":"",
            "num":"",
            "sendNum":"",
            "subtotal":""
        }
    ]
    jqgirdDate({
        "data": addData,
        "tableId": "#addrefund-table",
        "pagerId": "",
        "colModel": shopmanageCol,
        "footerrow": false,
        "height": "100%",
        "cellEdit": true,
        "footerrowFun": '',
        "multiselect": false
    })

    //商品选择
    var shopChangeCol = [
        {
            label: '商品名称',
            name: 'shopName',
            align: 'center',
            width: 200,
        },
        {
            label: '条码',
            name: 'barcode',
            width: 150,
            align: 'center',
            sortable: true,
            sorttype: "number"
        },
        {
            label: '单位',
            name: 'unit',
            align: 'center',
            width: 70,
            sortable: false,

        },
        {
            label: '现有库存',
            name: 'storeNum',
            align: 'center',
            width: 80,
            sortable: false,
        },
        {
            label: '进货单价',
            name: 'purchasePrice',
            align: 'center',
            width: 80,
            sortable: false,
        },
        {
            label: '售价',
            name: 'salePrice',
            align: 'center',
            width: 80,
            sortable: false,
        }
    ];
    jqgridTable({
        "tableId": "#shopChange-table",
        "pagerId": "",
        "url": "../data/shop/shopChange.json",
        "colModel": shopChangeCol,
        "footerrow": false,
        "height": "100%",
        "cellEdit": false,
        "footerrowFun": '',
        "multiselect": false

    })



    //初始化页面
    function buy_head_content() {
        var buyHead = '';
        buyHead += ' <div class="clearfix">\
                <div class="boxpart">\
                <div class="t">进货单号：</div>\
        <div class="t">JH002942201704210005</div>\
    </div>\
        <div class="boxpart" >\
            <div class="t">商品种数：</div>\
            <div class="t">1</div>\
        </div>\
        <div class="boxpart" style="width: 200px">\
            <div class="t">状态：</div>\
            <div class="t">已入库</div>\
        </div>\
        <div class="boxpart" >\
            <div class="t">备注：</div>\
            <div class="t">--</div>\
        </div>\
    </div>\
        <!-- 输入框-->\
        <div class="clearfix">\
            <div class="boxpart" >\
                <div class="t">供应商：</div>\
                <div class="t">--</div>\
            </div>\
            <div class="boxpart" >\
                <div class="t">下单金额：</div>\
                <div class="t">￥143.00</div>\
            </div>\
            <div class="boxpart" >\
                <div class="t">入库人：</div>\
                <div class="t">邓勇</div>\
            </div>\
        </div>\
        <div class="clearfix">\
            <div class="boxpart" >\
                <div class="t">创建人：</div>\
                <div class="t">邓勇</div>\
            </div>\
            <div class="boxpart" >\
                <div class="t">下单时间：</div>\
                <div class="t">2017-04-21 11:52</div>\
            </div>\
            <div class="boxpart" style="width: 200px">\
                <div class="t">付款：</div>\
                <div class="t">\
                    <span class="pay-status">未付款</span>\
                    <a href="javascript:;" class="text-info btn-pay"\
                    style="margin-left: 10px;display:none">付款明细&gt;&gt;</a>\
            </div>\
        </div>\
    </div>';
        $('.buy-head-form').empty().append(buyHead)
    }
    buy_head_content();
</script>
</body>
</html>
